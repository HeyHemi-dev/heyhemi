---
import HeadingBlock from "./HeadingBlock.astro";
import ImageBlock from "./ImageBlock.astro";
import MarkdownBlock from "./MarkdownBlock.astro";
import type { ContentBlock } from "../content/caseStudies/types";

const { block } = Astro.props as { block: ContentBlock };
---

{
  block.type === "h3" ? (
    <HeadingBlock as="h3" style="h3" class="mt-4 first:mt-0">
      {block.text}
    </HeadingBlock>
  ) : block.type === "md" ? (
    <MarkdownBlock value={block} class="" />
  ) : block.type === "ul" ? (
    <ul class="flex list-disc flex-col gap-3 pl-5">
      {block.items.map((item) => (
        <li>
          <MarkdownBlock value={item} />
        </li>
      ))}
    </ul>
  ) : block.type === "image" ? (
    <ImageBlock src={block.src} alt={block.alt} caption={block.caption} />
  ) : block.type === "callout" ? (
    <aside class="grid gap-3 rounded-4xl bg-(--description-bg)/25 p-4 sm:p-6">
      {block.title && <HeadingBlock style="h4">{block.title}</HeadingBlock>}
      <MarkdownBlock value={block.content} />
    </aside>
  ) : (
    <pre class="overflow-x-auto rounded-4xl bg-black/10 p-4 text-sm sm:p-6">
      <code>{block.code}</code>
    </pre>
  )
}
